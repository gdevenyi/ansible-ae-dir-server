---
# tasks file for roles/ae-dir-server

- name: "OS base configuration"
  include: "baseos_{{ ansible_os_family }}.yml"

- name: "Install OpenLDAP packages"
  include: "install_openldap_{{ ansible_os_family }}.yml"

- name: "TLS configuration for OpenLDAP slapd"
  include: tls_files.yml

- name: "Configure OpenLDAP slapd for AE-DIR"
  include: configure_slapd.yml

- name: "Configure OpenLDAP slapd for AE-DIR"
  include: system_accounts.yml

- name: "Install various AE-DIR tools"
  include: aedir_tools.yml
  when: openldap_role == 'provider'

- name: "Configure web2ldap for AE-DIR"
  include: configure_web2ldap.yml
  when: openldap_role == 'provider'

