---
# defaults file for roles/ae-dir

#---------------------------------------------------------------------------
# password sync parameters
#---------------------------------------------------------------------------

# Target URL for password synchronisation
# If defined this enables password clear-text syncing (rarely needed)
# to a target server specified by LDAP URL
# Example:
#aedir_pwsync_targeturl: "ldaps://msad.example.com/dc=example,dc=org?samaccountname,unicodePwd?sub??bindname=dom-admin@example.com"

# regex pattern for limiting the entries for which password changes are exported
# Example: Restrict syncing passwords to aeUser and aeService entries within zones "base" and "test"
# aedir_pwsync_dn_regex: "^uid=({{ aedir_aeuser_uid_regex }}|{{ aedir_aeservice_uid_regex }}),cn=(base|test),{{ aedir_suffix }}$"
aedir_pwsync_dn_regex: ""

# password of authenticating to sync target (should be ansible vault or similar)
aedir_pwsync_targetpassword: ""

# The CA certificate file bundle for connecting to sync target
aedir_pwsync_cacert_filename:  "{{ openldap_cacert_filename }}"

# The CA certificate file bundle for connecting to sync target
aedir_pwsync_cacert_pathname: "{{ aedir_etc }}/pwsync/{{ aedir_pwsync_cacert_filename|basename }}"

# pathname of file containing target's password
aedir_pwsync_targetpwfile: "{{ aedir_etc }}/pwsync/target_pw"

# user account for running pwsync
aedir_pwsync_listener_user: ae-dir-pwsync

# Directory path where Unix domain socket is created
aedir_pwsync_socket_dir: "{{ aedir_rundir }}/pwsync"
# Full pathname of Unix domain socket of bind listener
# (set this to empty string for disabling the external bind listeners completely)
aedir_pwsync_socket_path: "{{ aedir_pwsync_socket_dir }}/socket"

