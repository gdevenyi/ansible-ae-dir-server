<h1>{text_heading}</h1>

You reached web2ldap service <strong>{{ openldap_service_fqdn }}</strong> (running on <em>{{ ansible_fqdn }}</em>)

{text_error}

<h2>Normal use</h2>
<p>
  <a class="CommandLink" href="/web2ldap?{{ openldap_ldapi_uri }}/{{ aedir_suffix }}????bindname=">Local &AElig;-DIR via LDAPI</a>
  (if in doubt, click this!)
</p>

{% for role in ['provider', 'consumer'] %}
<h2>&AElig;-DIR {{ role }}(s)</h2>
<table>
  <tr>
    <th>Service</th>
    <th>Host</th>
    <th>Id</th>
  </tr>
{% for host in aedir_hosts[role] %}
{% set replica = hostvars[host].get('openldap_service_fqdn',host) -%}
{% set server_id = hostvars[host].get('openldap_server_id','') -%}
  <tr>
    <td>
      <a class="CommandLink" href="/web2ldap?ldaps://{{ replica }}/{{ aedir_suffix }}????bindname=">{{ replica }}</a>
    </td>
{% if replica!=host %}
    <td>
      {{ host }}
    </td>
{% else %}
    <td>
      -
    </td>
{% endif %}
    <td>
      {{ server_id }}
    </td>
  </tr>
{% endfor %}
</table>

{% endfor %}

<h2>&AElig;-DIR configuration</h2>

<table>

  <tr>
    <th>name</th>
    <th>value</th>
    <th>purpose</th>
  </tr>
  <tr>
    <td>aedir_suffix</td>
    <td>{{ aedir_suffix }}</td>
    <td>base DN / search root for AE-DIR entries</td>
  </tr>
  <tr>
    <td>POSIX-UID range</td>
    <td>{{ aedir_min_uid }}..{{ aedir_max_uid }}</td>
    <td>POSIX-UID number range served</td>
  </tr>
  <tr>
    <td>POSIX-GID range</td>
    <td>{{ aedir_min_gid }}..{{ aedir_max_gid }}</td>
    <td>POSIX-GID number range served</td>
  </tr>
  <tr>
    <td>aedir_global_gid</td>
    <td>{{ aedir_global_gid }}</td>
    <td>fixed primary POSIX-GID in all user accounts</td>
  </tr>

</table>
